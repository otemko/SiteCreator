<div *ngIf="isReady" class="row">
    <div class="col-sm-4 cols-md-3 col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-6 text-muted" style="padding-top: 5px">
                        <i class="fa fa-info-circle fa-lg"></i>&nbsp;Your site
                    </div>
                    <div class="col-xs-6 text-right">
                        <span class="text-right">
                            <button (click)="onSubmit()" class="btn btn-default btn-sm text-center">
                            <i *ngIf="loading" class="fa fa-spinner fa-pulse fa-fw"></i>
                            <i *ngIf="!loading" class="fa fa-save fa-fw"></i>
                            <span class="hidden-sm">&nbsp;Submit</span>
                        </button>
                        </span>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" required [(ngModel)]="site.name" name="name" #name="ngModel">
                    <div [hidden]="name.valid || name.pristine">
                        Name is required
                    </div>
                </div>
                <div class="form-group">
                    <label for="styleMenu">Style Menu</label>
                    <select class="form-control" id="styleMenu" required [(ngModel)]="site.styleMenuId" name="styleMenuId" #styleMenu="ngModel">
                <option *ngFor="let styleMenu of styleMenus" [value]="styleMenu.id">{{styleMenu.name}}</option>
            </select>
                    <div [hidden]="styleMenu.valid || styleMenu.pristine">
                        Style Menu is required
                    </div>
                </div>


                <div class="form-group" *ngIf="tagsView">
                    <div class="div-in-row" *ngFor="let tagView of tagsView">
                        <div class="tag-cloud tag-cloud-info">{{tagView}} <i (click)="deleteTag(tagView)" class="fa fa-times"></i></div>
                    </div>
                </div>

                <div class="form-group">
                    <p-autoComplete #inputBox [(ngModel)]="resultTag" [ngModelOptions]="{standalone: true}" [suggestions]="filteredTags" (completeMethod)="filterTags($event)"
                        [minLength]="1" placeholder="Input tag..." [dropdown]="false" (onDropdownClick)="handleDropdownClick($event)"
                        (keyup.enter)="addTag(); inputBox.value=''">
                    </p-autoComplete>
                    <i class="fa fa-plus-circle fa-lg fa-fw text-info" (click)="addTag(); inputBox.value=''"></i>
                </div>

                <div id="invalid-tags" hidden>
                    One tag is required
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-8 col-md-9 col-lg-9">
        <div class="panel panel-default">
            <div class="panel-heading"><span class="text-muted"><i class="fa fa-picture-o fa-lg"></i>&nbsp;Pages</span></div>
            <div class="panel-body">
                <div class="row" dnd-sortable-container [dropZones]="['p']" [sortableData]="site.pages">
                    <page-item *ngFor="let page of site.pages; let i = index" dnd-sortable [sortableIndex]="i" [page]="page" (delete)="onDelete($event)"></page-item>
                    <div *ngIf="site.id" class="col-lg-3 col-md-4 col-sm-6 cols-xs-6">
                        <div class="thumbnail hover-blue text-center link-cursore" (click)="newPage()" style="height: 150px">
                            <i class="fa fa-plus fa-3x text-info" style="padding-top: 50px;"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-body">
            </div>
        </div>
    </div>
</div>